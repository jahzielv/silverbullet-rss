{
  "name": "rss",
  "version": 0.1,
  "imports": [
    "https://get.silverbullet.md/global.plug.json"
  ],
  "functions": {
    "rss": {
      "command": {
        "name": "Sync RSS Feeds"
      },
      "code": "(() => { var mod=(()=>{var ke=Object.create;var Y=Object.defineProperty;var _e=Object.getOwnPropertyDescriptor;var Oe=Object.getOwnPropertyNames;var Le=Object.getPrototypeOf,Ve=Object.prototype.hasOwnProperty;var pe=(i=>typeof require!=\"undefined\"?require:typeof Proxy!=\"undefined\"?new Proxy(i,{get:(e,s)=>(typeof require!=\"undefined\"?require:e)[s]}):i)(function(i){if(typeof require!=\"undefined\")return require.apply(this,arguments);throw new Error('Dynamic require of \"'+i+'\" is not supported')});var K=(i,e)=>{for(var s in e)Y(i,s,{get:e[s],enumerable:!0})},me=(i,e,s,t)=>{if(e&&typeof e==\"object\"||typeof e==\"function\")for(let r of Oe(e))!Ve.call(i,r)&&r!==s&&Y(i,r,{get:()=>e[r],enumerable:!(t=_e(e,r))||t.enumerable});return i};var fe=(i,e,s)=>(s=i!=null?ke(Le(i)):{},me(e||!i||!i.__esModule?Y(s,\"default\",{value:i,enumerable:!0}):s,i)),Me=i=>me(Y({},\"__esModule\",{value:!0}),i);var Ct={};K(Ct,{default:()=>Pt});typeof self>\"u\"&&(self={syscall:()=>{throw new Error(\"Not implemented here\")}});var l=self.syscall;var k={};K(k,{confirm:()=>ot,dispatch:()=>rt,downloadFile:()=>$e,filterBox:()=>Ze,flashNotification:()=>Ke,getCurrentPage:()=>Ue,getCursor:()=>qe,getSelection:()=>We,getText:()=>Ge,getUiOption:()=>lt,hidePanel:()=>et,insertAtCursor:()=>at,insertAtPos:()=>tt,moveCursor:()=>st,navigate:()=>je,openUrl:()=>Qe,prompt:()=>nt,reloadPage:()=>ze,replaceRange:()=>it,save:()=>Je,setPage:()=>He,setSelection:()=>Ye,setUiOption:()=>ut,showPanel:()=>Xe});function Ue(){return l(\"editor.getCurrentPage\")}function He(i){return l(\"editor.setPage\",i)}function Ge(){return l(\"editor.getText\")}function qe(){return l(\"editor.getCursor\")}function We(){return l(\"editor.getSelection\")}function Ye(i,e){return l(\"editor.setSelection\",i,e)}function Je(){return l(\"editor.save\")}function je(i,e,s=!1,t=!1){return l(\"editor.navigate\",i,e,s,t)}function ze(){return l(\"editor.reloadPage\")}function Qe(i){return l(\"editor.openUrl\",i)}function $e(i,e){return l(\"editor.downloadFile\",i,e)}function Ke(i,e=\"info\"){return l(\"editor.flashNotification\",i,e)}function Ze(i,e,s=\"\",t=\"\"){return l(\"editor.filterBox\",i,e,s,t)}function Xe(i,e,s,t=\"\"){return l(\"editor.showPanel\",i,e,s,t)}function et(i){return l(\"editor.hidePanel\",i)}function tt(i,e){return l(\"editor.insertAtPos\",i,e)}function it(i,e,s){return l(\"editor.replaceRange\",i,e,s)}function st(i,e=!1){return l(\"editor.moveCursor\",i,e)}function at(i){return l(\"editor.insertAtCursor\",i)}function rt(i){return l(\"editor.dispatch\",i)}function nt(i,e=\"\"){return l(\"editor.prompt\",i,e)}function ot(i){return l(\"editor.confirm\",i)}function lt(i){return l(\"editor.getUiOption\",i)}function ut(i,e){return l(\"editor.setUiOption\",i,e)}var J={};K(J,{parseMarkdown:()=>dt});function dt(i){return l(\"markdown.parseMarkdown\",i)}var Z=class{listPages(e=!1){return l(\"space.listPages\",e)}getPageMeta(e){return l(\"space.getPageMeta\",e)}readPage(e){return l(\"space.readPage\",e)}writePage(e,s){return l(\"space.writePage\",e,s)}deletePage(e){return l(\"space.deletePage\",e)}listPlugs(){return l(\"space.listPlugs\")}listAttachments(){return l(\"space.listAttachments\")}getAttachmentMeta(e){return l(\"space.getAttachmentMeta\",e)}readAttachment(e){return l(\"space.readAttachment\",e)}writeAttachment(e,s,t){return l(\"space.writeAttachment\",e,s,t)}deleteAttachment(e){return l(\"space.deleteAttachment\",e)}readFile(e,s){return l(\"space.readFile\",e,s)}getFileMeta(e){return l(\"space.getFileMeta\",e)}writeFile(e,s,t){return l(\"space.writeFile\",e,s,t)}deleteFile(e){return l(\"space.deleteFile\",e)}listFiles(e){return l(\"space.listFiles\",e)}},_=new Z;function X(i,e){if(e(i))return[i];let s=[];if(i.children)for(let t of i.children)s=[...s,...X(t,e)];return s}function ee(i,e){return X(i,s=>s.type===e)[0]}function ge(i,e){X(i,e)}var te=fe(pe(\"https://deno.land/std/encoding/yaml.ts\"));async function ie(i,e=[\"yaml\"]){let s=await _.readPage(i),t=await J.parseMarkdown(s),r={};return ge(t,a=>{if(a.type!==\"FencedCode\")return!1;let u=ee(a,\"CodeInfo\");if(!u||!e.includes(u.children[0].text))return!1;let m=ee(a,\"CodeText\");if(!m)return!1;let f=m.children[0].text;try{r=te.parse(f)}catch(y){throw console.error(\"YAML Page parser error\",y),new Error(`YAML Error: ${y.message}`)}return!0}),r}function gt(){return typeof window>\"u\"||typeof window.document>\"u\"}function yt(){return!gt()}function ye(i,e){if(yt())return k.flashNotification(i,e);(e===\"error\"?console.error:console.log)(i)}var Te=fe(pe(\"https://deno.land/std/encoding/yaml.ts\"));var se=\"SETTINGS\";async function Se(i){try{let e=await ie(se,[\"yaml\"])||{},s={};for(let[t,r]of Object.entries(i))t in e?s[t]=e[t]:s[t]=r;return s}catch(e){if(e.message===\"Page not found\")return i;throw e}}async function be(i){let e={};try{e=await ie(se,[\"yaml\"])||{}}catch{await ye(\"Creating a new SETTINGS page...\",\"info\")}let s={...e,...i},t=`This page contains settings for configuring SilverBullet and its Plugs.\nAny changes outside of the yaml block will be overwritten.\n\\`\\`\\`yaml\n${Te.stringify(s)}\n\\`\\`\\``;await _.writePage(se,t)}var W=/[:_A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]/,ne=/[:_A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\u00B7\\u0300-\\u036F\\u203F-\\u2040.\\d-]/,St=/[#:_A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]/,bt=/[#:_A-Za-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\u00B7\\u0300-\\u036F\\u203F-\\u2040.\\d-]/,z={amp:\"&\",gt:\">\",lt:\"<\",quot:'\"',apos:\"'\",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830};Object.keys(z).forEach(i=>{let e=z[i];z[i]=typeof e==\"number\"?String.fromCharCode(e):e});var d=class{constructor(){this.ENTITIES={...z};this.XML_ENTITIES={amp:\"&\",gt:\">\",lt:\"<\",quot:'\"',apos:\"'\"};this.S=0;this.trackPosition=!1;this.column=0;this.line=0;this.c=\"\";this.q=\"\";this.closed=!1;this.tags=[];this.looseCase=\"\";this.closedRoot=!1;this.sawRoot=!1;this.strict=!1;this.noscript=!1;this.attribList=[];this.position=0;this.STATE={BEGIN:this.S++,BEGIN_WHITESPACE:this.S++,TEXT:this.S++,TEXT_ENTITY:this.S++,OPEN_WAKA:this.S++,SGML_DECL:this.S++,SGML_DECL_QUOTED:this.S++,DOCTYPE:this.S++,DOCTYPE_QUOTED:this.S++,DOCTYPE_DTD:this.S++,DOCTYPE_DTD_QUOTED:this.S++,COMMENT_STARTING:this.S++,COMMENT:this.S++,COMMENT_ENDING:this.S++,COMMENT_ENDED:this.S++,CDATA:this.S++,CDATA_ENDING:this.S++,CDATA_ENDING_2:this.S++,PROC_INST:this.S++,PROC_INST_BODY:this.S++,PROC_INST_ENDING:this.S++,OPEN_TAG:this.S++,OPEN_TAG_SLASH:this.S++,ATTRIB:this.S++,ATTRIB_NAME:this.S++,ATTRIB_NAME_SAW_WHITE:this.S++,ATTRIB_VALUE:this.S++,ATTRIB_VALUE_QUOTED:this.S++,ATTRIB_VALUE_CLOSED:this.S++,ATTRIB_VALUE_UNQUOTED:this.S++,ATTRIB_VALUE_ENTITY_Q:this.S++,ATTRIB_VALUE_ENTITY_U:this.S++,CLOSE_TAG:this.S++,CLOSE_TAG_SAW_WHITE:this.S++,SCRIPT:this.S++,SCRIPT_ENDING:this.S++};this.CDATA=\"[CDATA[\";this.DOCTYPE=\"DOCTYPE\";this.XML_NAMESPACE=\"http://www.w3.org/XML/1998/namespace\";this.XMLNS_NAMESPACE=\"http://www.w3.org/2000/xmlns/\";this.rootNS={xml:this.XML_NAMESPACE,xmlns:this.XMLNS_NAMESPACE};this.textNode=\"\";this.entity=\"\";this.cdata=\"\";this.script=\"\";this.startTagPosition=0;this.BUFFERS=[\"comment\",\"sgmlDecl\",\"textNode\",\"tagName\",\"doctype\",\"procInstName\",\"procInstBody\",\"entity\",\"attribName\",\"attribValue\",\"cdata\",\"script\"],this.EVENTS=[\"text\",\"processinginstruction\",\"sgmldeclaration\",\"doctype\",\"comment\",\"opentagstart\",\"attribute\",\"opentag\",\"closetag\",\"opencdata\",\"cdata\",\"closecdata\",\"error\",\"end\",\"ready\",\"script\",\"opennamespace\",\"closenamespace\"],this.S=0;for(let e in this.STATE)this.STATE.hasOwnProperty(e)&&(this.STATE[this.STATE[e]]=e);this.S=this.STATE,this.parser=(e,s)=>new x(e,s)}static charAt(e,s){let t=\"\";return s<e.length&&(t=e.charAt(s)),t}static isWhitespace(e){return e===\" \"||e===`\n`||e===\"\\r\"||e===\"\t\"}static isQuote(e){return e==='\"'||e===\"'\"}static isAttribEnd(e){return e===\">\"||d.isWhitespace(e)}static isMatch(e,s){return e.test(s)}static notMatch(e,s){return!d.isMatch(e,s)}static qname(e,s){let r=e.indexOf(\":\")<0?[\"\",e]:e.split(\":\"),a=r[0],u=r[1];return s&&e===\"xmlns\"&&(a=\"xmlns\",u=\"\"),{prefix:a,local:u}}write(e){if(this.error)throw this.error;if(this.closed)return this.errorFunction(\"Cannot write after close. Assign an onready handler.\");if(e===null)return this.end();typeof e==\"object\"&&(e=e.toString());let s=0,t;for(;t=d.charAt(e,s++),this.c=t,!!t;)switch(this.trackPosition&&(this.position++,t===`\n`?(this.line++,this.column=0):this.column++),this.state){case this.S.BEGIN:if(this.state=this.S.BEGIN_WHITESPACE,t===\"\\uFEFF\")continue;this.beginWhiteSpace(t);continue;case this.S.BEGIN_WHITESPACE:this.beginWhiteSpace(t);continue;case this.S.TEXT:if(this.sawRoot&&!this.closedRoot){let u=s-1;for(;t&&t!==\"<\"&&t!==\"&\";)t=d.charAt(e,s++),t&&this.trackPosition&&(this.position++,t===`\n`?(this.line++,this.column=0):this.column++);this.textNode+=e.substring(u,s-1)}t===\"<\"&&!(this.sawRoot&&this.closedRoot&&!this.strict)?(this.state=this.S.OPEN_WAKA,this.startTagPosition=this.position):(!d.isWhitespace(t)&&(!this.sawRoot||this.closedRoot)&&this.strictFail(\"Text data outside of root node.\"),t===\"&\"?this.state=this.S.TEXT_ENTITY:this.textNode+=t);continue;case this.S.SCRIPT:t===\"<\"?this.state=this.S.SCRIPT_ENDING:this.script+=t;continue;case this.S.SCRIPT_ENDING:t===\"/\"?this.state=this.S.CLOSE_TAG:(this.script+=\"<\"+t,this.state=this.S.SCRIPT);continue;case this.S.OPEN_WAKA:if(t===\"!\")this.state=this.S.SGML_DECL,this.sgmlDecl=\"\";else if(!d.isWhitespace(t))if(d.isMatch(W,t))this.state=this.S.OPEN_TAG,this.tagName=t;else if(t===\"/\")this.state=this.S.CLOSE_TAG,this.tagName=\"\";else if(t===\"?\")this.state=this.S.PROC_INST,this.procInstName=this.procInstBody=\"\";else{if(this.strictFail(\"Unencoded <\"),this.startTagPosition+1<this.position){let u=this.position-this.startTagPosition;t=new Array(u).join(\" \")+t}this.textNode+=\"<\"+t,this.state=this.S.TEXT}continue;case this.S.SGML_DECL:(this.sgmlDecl+t).toUpperCase()===this.CDATA?(this.emitNode(\"onopencdata\"),this.state=this.S.CDATA,this.sgmlDecl=\"\",this.cdata=\"\"):this.sgmlDecl+t===\"--\"?(this.state=this.S.COMMENT,this.comment=\"\",this.sgmlDecl=\"\"):(this.sgmlDecl+t).toUpperCase()===this.DOCTYPE?(this.state=this.S.DOCTYPE,(this.doctype||this.sawRoot)&&this.strictFail(\"Inappropriately located doctype declaration\"),this.doctype=\"\",this.sgmlDecl=\"\"):t===\">\"?(this.emitNode(\"onsgmldeclaration\",this.sgmlDecl),this.sgmlDecl=\"\",this.state=this.S.TEXT):d.isQuote(t)?(this.state=this.S.SGML_DECL_QUOTED,this.sgmlDecl+=t):this.sgmlDecl+=t;continue;case this.S.SGML_DECL_QUOTED:t===this.q&&(this.state=this.S.SGML_DECL,this.q=\"\"),this.sgmlDecl+=t;continue;case this.S.DOCTYPE:t===\">\"?(this.state=this.S.TEXT,this.emitNode(\"ondoctype\",this.doctype),this.doctype=!0):(this.doctype+=t,t===\"[\"?this.state=this.S.DOCTYPE_DTD:d.isQuote(t)&&(this.state=this.S.DOCTYPE_QUOTED,this.q=t));continue;case this.S.DOCTYPE_QUOTED:this.doctype+=t,t===this.q&&(this.q=\"\",this.state=this.S.DOCTYPE);continue;case this.S.DOCTYPE_DTD:this.doctype+=t,t===\"]\"?this.state=this.S.DOCTYPE:d.isQuote(t)&&(this.state=this.S.DOCTYPE_DTD_QUOTED,this.q=t);continue;case this.S.DOCTYPE_DTD_QUOTED:this.doctype+=t,t===this.q&&(this.state=this.S.DOCTYPE_DTD,this.q=\"\");continue;case this.S.COMMENT:t===\"-\"?this.state=this.S.COMMENT_ENDING:this.comment+=t;continue;case this.S.COMMENT_ENDING:t===\"-\"?(this.state=this.S.COMMENT_ENDED,this.comment=this.textApplyOptions(this.comment),this.comment&&this.emitNode(\"oncomment\",this.comment),this.comment=\"\"):(this.comment+=\"-\"+t,this.state=this.S.COMMENT);continue;case this.S.COMMENT_ENDED:t!==\">\"?(this.strictFail(\"Malformed comment\"),this.comment+=\"--\"+t,this.state=this.S.COMMENT):this.state=this.S.TEXT;continue;case this.S.CDATA:t===\"]\"?this.state=this.S.CDATA_ENDING:this.cdata+=t;continue;case this.S.CDATA_ENDING:t===\"]\"?this.state=this.S.CDATA_ENDING_2:(this.cdata+=\"]\"+t,this.state=this.S.CDATA);continue;case this.S.CDATA_ENDING_2:t===\">\"?(this.cdata&&this.emitNode(\"oncdata\",this.cdata),this.emitNode(\"onclosecdata\"),this.cdata=\"\",this.state=this.S.TEXT):t===\"]\"?this.cdata+=\"]\":(this.cdata+=\"]]\"+t,this.state=this.S.CDATA);continue;case this.S.PROC_INST:t===\"?\"?this.state=this.S.PROC_INST_ENDING:d.isWhitespace(t)?this.state=this.S.PROC_INST_BODY:this.procInstName+=t;continue;case this.S.PROC_INST_BODY:if(!this.procInstBody&&d.isWhitespace(t))continue;t===\"?\"?this.state=this.S.PROC_INST_ENDING:this.procInstBody+=t;continue;case this.S.PROC_INST_ENDING:t===\">\"?(this.emitNode(\"onprocessinginstruction\",{name:this.procInstName,body:this.procInstBody}),this.procInstName=this.procInstBody=\"\",this.state=this.S.TEXT):(this.procInstBody+=\"?\"+t,this.state=this.S.PROC_INST_BODY);continue;case this.S.OPEN_TAG:d.isMatch(ne,t)?this.tagName+=t:(this.newTag(),t===\">\"?this.openTag():t===\"/\"?this.state=this.S.OPEN_TAG_SLASH:(d.isWhitespace(t)||this.strictFail(\"Invalid character in tag name\"),this.state=this.S.ATTRIB));continue;case this.S.OPEN_TAG_SLASH:t===\">\"?(this.openTag(!0),this.closeTag()):(this.strictFail(\"Forward-slash in opening tag not followed by >\"),this.state=this.S.ATTRIB);continue;case this.S.ATTRIB:if(d.isWhitespace(t))continue;t===\">\"?this.openTag():t===\"/\"?this.state=this.S.OPEN_TAG_SLASH:d.isMatch(W,t)?(this.attribName=t,this.attribValue=\"\",this.state=this.S.ATTRIB_NAME):this.strictFail(\"Invalid attribute name\");continue;case this.S.ATTRIB_NAME:t===\"=\"?this.state=this.S.ATTRIB_VALUE:t===\">\"?(this.strictFail(\"Attribute without value\"),this.attribValue=this.attribName,this.attrib(),this.openTag()):d.isWhitespace(t)?this.state=this.S.ATTRIB_NAME_SAW_WHITE:d.isMatch(ne,t)?this.attribName+=t:this.strictFail(\"Invalid attribute name\");continue;case this.S.ATTRIB_NAME_SAW_WHITE:if(t===\"=\")this.state=this.S.ATTRIB_VALUE;else{if(d.isWhitespace(t))continue;this.strictFail(\"Attribute without value\"),this.tag.attributes[this.attribName]=\"\",this.attribValue=\"\",this.emitNode(\"onattribute\",{name:this.attribName,value:\"\"}),this.attribName=\"\",t===\">\"?this.openTag():d.isMatch(W,t)?(this.attribName=t,this.state=this.S.ATTRIB_NAME):(this.strictFail(\"Invalid attribute name\"),this.state=this.S.ATTRIB)}continue;case this.S.ATTRIB_VALUE:if(d.isWhitespace(t))continue;d.isQuote(t)?(this.q=t,this.state=this.S.ATTRIB_VALUE_QUOTED):(this.strictFail(\"Unquoted attribute value\"),this.state=this.S.ATTRIB_VALUE_UNQUOTED,this.attribValue=t);continue;case this.S.ATTRIB_VALUE_QUOTED:if(t!==this.q){t===\"&\"?this.state=this.S.ATTRIB_VALUE_ENTITY_Q:this.attribValue+=t;continue}this.attrib(),this.q=\"\",this.state=this.S.ATTRIB_VALUE_CLOSED;continue;case this.S.ATTRIB_VALUE_CLOSED:d.isWhitespace(t)?this.state=this.S.ATTRIB:t===\">\"?this.openTag():t===\"/\"?this.state=this.S.OPEN_TAG_SLASH:d.isMatch(W,t)?(this.strictFail(\"No whitespace between attributes\"),this.attribName=t,this.attribValue=\"\",this.state=this.S.ATTRIB_NAME):this.strictFail(\"Invalid attribute name\");continue;case this.S.ATTRIB_VALUE_UNQUOTED:if(!d.isAttribEnd(t)){t===\"&\"?this.state=this.S.ATTRIB_VALUE_ENTITY_U:this.attribValue+=t;continue}this.attrib(),t===\">\"?this.openTag():this.state=this.S.ATTRIB;continue;case this.S.CLOSE_TAG:if(this.tagName)t===\">\"?this.closeTag():d.isMatch(ne,t)?this.tagName+=t:this.script?(this.script+=\"</\"+this.tagName,this.tagName=\"\",this.state=this.S.SCRIPT):(d.isWhitespace(t)||this.strictFail(\"Invalid tagname in closing tag\"),this.state=this.S.CLOSE_TAG_SAW_WHITE);else{if(d.isWhitespace(t))continue;d.notMatch(W,t)?this.script?(this.script+=\"</\"+t,this.state=this.S.SCRIPT):this.strictFail(\"Invalid tagname in closing tag.\"):this.tagName=t}continue;case this.S.CLOSE_TAG_SAW_WHITE:if(d.isWhitespace(t))continue;t===\">\"?this.closeTag():this.strictFail(\"Invalid characters in closing tag\");continue;case this.S.TEXT_ENTITY:case this.S.ATTRIB_VALUE_ENTITY_Q:case this.S.ATTRIB_VALUE_ENTITY_U:let r,a;switch(this.state){case this.S.TEXT_ENTITY:r=this.S.TEXT,a=\"textNode\";break;case this.S.ATTRIB_VALUE_ENTITY_Q:r=this.S.ATTRIB_VALUE_QUOTED,a=\"attribValue\";break;case this.S.ATTRIB_VALUE_ENTITY_U:r=this.S.ATTRIB_VALUE_UNQUOTED,a=\"attribValue\";break;default:throw new Error(\"Unknown state: \"+this.state)}t===\";\"?(this[a]+=this.parseEntity(),this.entity=\"\",this.state=r):d.isMatch(this.entity.length?bt:St,t)?this.entity+=t:(this.strictFail(\"Invalid character in entity name\"),this[a]+=\"&\"+this.entity+t,this.entity=\"\",this.state=r);continue;default:throw new Error(\"Unknown state: \"+this.state)}return this.position>=this.bufferCheckPosition&&this.checkBufferLength(),this}emit(e,s){this.hasOwnProperty(e)&&this[e](s)}clearBuffers(){for(let e=0,s=this.BUFFERS.length;e<s;e++)this[this[e]]=\"\"}flushBuffers(){this.closeText(),this.cdata!==\"\"&&(this.emitNode(\"oncdata\",this.cdata),this.cdata=\"\"),this.script!==\"\"&&(this.emitNode(\"onscript\",this.script),this.script=\"\")}end(){return this.sawRoot&&!this.closedRoot&&this.strictFail(\"Unclosed root tag\"),this.state!==this.S.BEGIN&&this.state!==this.S.BEGIN_WHITESPACE&&this.state!==this.S.TEXT&&this.errorFunction(\"Unexpected end\"),this.closeText(),this.c=\"\",this.closed=!0,this.emit(\"onend\"),new x(this.strict,this.opt)}errorFunction(e){this.closeText(),this.trackPosition&&(e+=`\nLine: `+this.line+`\nColumn: `+this.column+`\nChar: `+this.c);let s=new Error(e);return this.error=s,this.emit(\"onerror\",s),this}attrib(){if(this.strict||(this.attribName=this.attribName[this.looseCase]()),this.attribList.indexOf(this.attribName)!==-1||this.tag.attributes.hasOwnProperty(this.attribName)){this.attribName=this.attribValue=\"\";return}if(this.opt.xmlns){let e=d.qname(this.attribName,!0),s=e.prefix,t=e.local;if(s===\"xmlns\")if(t===\"xml\"&&this.attribValue!==this.XML_NAMESPACE)this.strictFail(\"xml: prefix must be bound to \"+this.XML_NAMESPACE+`\nActual: `+this.attribValue);else if(t===\"xmlns\"&&this.attribValue!==this.XMLNS_NAMESPACE)this.strictFail(\"xmlns: prefix must be bound to \"+this.XMLNS_NAMESPACE+`\nActual: `+this.attribValue);else{let r=this.tag,a=this.tags[this.tags.length-1]||this;r.ns===a.ns&&(r.ns=Object.create(a.ns)),r.ns[t]=this.attribValue}this.attribList.push([this.attribName,this.attribValue])}else this.tag.attributes[this.attribName]=this.attribValue,this.emitNode(\"onattribute\",{name:this.attribName,value:this.attribValue});this.attribName=this.attribValue=\"\"}newTag(){this.strict||(this.tagName=this.tagName[this.looseCase]());let e=this.tags[this.tags.length-1]||this,s=this.tag={name:this.tagName,attributes:{}};this.opt.xmlns&&(s.ns=e.ns),this.attribList.length=0,this.emitNode(\"onopentagstart\",s)}parseEntity(){let e=this.entity,s=e.toLowerCase(),t=NaN,r=\"\";return this.ENTITIES[e]?this.ENTITIES[e]:this.ENTITIES[s]?this.ENTITIES[s]:(e=s,e.charAt(0)===\"#\"&&(e.charAt(1)===\"x\"?(e=e.slice(2),t=parseInt(e,16),r=t.toString(16)):(e=e.slice(1),t=parseInt(e,10),r=t.toString(10))),e=e.replace(/^0+/,\"\"),isNaN(t)||r.toLowerCase()!==e?(this.strictFail(\"Invalid character entity\"),\"&\"+this.entity+\";\"):String.fromCodePoint(t))}beginWhiteSpace(e){e===\"<\"?(this.state=this.S.OPEN_WAKA,this.startTagPosition=this.position):d.isWhitespace(e)||(this.strictFail(\"Non-whitespace before first tag.\"),this.textNode=e,this.state=this.S.TEXT)}strictFail(e){if(typeof this!=\"object\"||!(this instanceof x))throw new Error(\"bad call to strictFail\");this.strict&&this.errorFunction(e)}textApplyOptions(e){return this.opt.trim&&(e=e.trim()),this.opt.normalize&&(e=e.replace(/\\s+/g,\" \")),e}emitNode(e,s){this.textNode&&this.closeText(),this.emit(e,s)}closeText(){this.textNode=this.textApplyOptions(this.textNode),this.textNode!==void 0&&this.textNode!==\"\"&&this.textNode!==\"undefined\"&&this.emit(\"ontext\",this.textNode),this.textNode=\"\"}checkBufferLength(){let e=Math.max(this.opt.MAX_BUFFER_LENGTH,10),s=0;for(let r=0,a=this.BUFFERS.length;r<a;r++){let u=this.hasOwnProperty(this.BUFFERS[r])?this[this.BUFFERS[r]].length:0;if(u>e)switch(this.BUFFERS[r]){case\"textNode\":this.closeText();break;case\"cdata\":this.emitNode(\"oncdata\",this.cdata),this.cdata=\"\";break;case\"script\":this.emitNode(\"onscript\",this.script),this.script=\"\";break;default:this.errorFunction(\"Max buffer length exceeded: \"+this.BUFFERS[r])}s=Math.max(s,u)}let t=this.opt.MAX_BUFFER_LENGTH-s;this.bufferCheckPosition=t+this.position}openTag(e){if(this.opt.xmlns){let s=this.tag,t=d.qname(this.tagName);s.prefix=t.prefix,s.local=t.local,s.uri=s.ns[t.prefix]||\"\",s.prefix&&!s.uri&&(this.strictFail(\"Unbound namespace prefix: \"+JSON.stringify(this.tagName)),s.uri=t.prefix);let r=this.tags[this.tags.length-1]||this;if(s.ns&&r.ns!==s.ns){let a=this;Object.keys(s.ns).forEach(u=>{a.emitNode(\"onopennamespace\",{prefix:u,uri:s.ns[u]})})}for(let a=0,u=this.attribList.length;a<u;a++){let m=this.attribList[a],f=m[0],y=m[1],R=d.qname(f,!0),S=R.prefix,A=R.local,n=S===\"\"?\"\":s.ns[S]||\"\",c={name:f,value:y,prefix:S,local:A,uri:n};S&&S!==\"xmlns\"&&!n&&(this.strictFail(\"Unbound namespace prefix: \"+JSON.stringify(S)),c.uri=S),this.tag.attributes[f]=c,this.emitNode(\"onattribute\",c)}this.attribList.length=0}this.tag.isSelfClosing=!!e,this.sawRoot=!0,this.tags.push(this.tag),this.emitNode(\"onopentag\",this.tag),e||(!this.noscript&&this.tagName.toLowerCase()===\"script\"?this.state=this.S.SCRIPT:this.state=this.S.TEXT,this.tag=null,this.tagName=\"\"),this.attribName=this.attribValue=\"\",this.attribList.length=0}closeTag(){if(!this.tagName){this.strictFail(\"Weird empty close tag.\"),this.textNode+=\"</>\",this.state=this.S.TEXT;return}if(this.script){if(this.tagName!==\"script\"){this.script+=\"</\"+this.tagName+\">\",this.tagName=\"\",this.state=this.S.SCRIPT;return}this.emitNode(\"onscript\",this.script),this.script=\"\"}let e=this.tags.length,s=this.tagName;for(this.strict||(s=s[this.looseCase]());e--&&this.tags[e].name!==s;)this.strictFail(\"Unexpected close tag\");if(e<0){this.strictFail(\"Unmatched closing tag: \"+this.tagName),this.textNode+=\"</\"+this.tagName+\">\",this.state=this.S.TEXT;return}this.tagName=s;let t=this.tags.length;for(;t-- >e;){let r=this.tag=this.tags.pop();this.tagName=this.tag.name,this.emitNode(\"onclosetag\",this.tagName);let a={};for(let m in r.ns)r.ns.hasOwnProperty(m)&&(a[m]=r.ns[m]);let u=this.tags[this.tags.length-1]||this;if(this.opt.xmlns&&r.ns!==u.ns){let m=this;Object.keys(r.ns).forEach(f=>{let y=r.ns[f];m.emitNode(\"onclosenamespace\",{prefix:f,uri:y})})}}e===0&&(this.closedRoot=!0),this.tagName=this.attribValue=this.attribName=\"\",this.attribList.length=0,this.state=this.S.TEXT}},x=class extends d{constructor(s,t){super();this.ontext=()=>{};this.onprocessinginstruction=()=>{};this.onsgmldeclaration=()=>{};this.ondoctype=()=>{};this.oncomment=()=>{};this.onopentagstart=()=>{};this.onattribute=()=>{};this.onopentag=()=>{};this.onclosetag=()=>{};this.onopencdata=()=>{};this.oncdata=()=>{};this.onclosecdata=()=>{};this.onerror=()=>{};this.onend=()=>{};this.onready=()=>{};this.onscript=()=>{};this.onopennamespace=()=>{};this.onclosenamespace=()=>{};if(!(this instanceof x))return new x(s,t);this.clearBuffers(),this.q=this.c=\"\",this.opt={MAX_BUFFER_LENGTH:64*1024,...t},this.bufferCheckPosition=this.opt.MAX_BUFFER_LENGTH,this.opt.lowercase=this.opt.lowercase||this.opt.lowercasetags||!1,this.looseCase=this.opt.lowercase?\"toLowerCase\":\"toUpperCase\",this.tags=[],this.closed=this.closedRoot=this.sawRoot=!1,this.tag=this.error=null,this.strict=!!s,this.noscript=!!(s||this.opt.noscript),this.state=this.S.BEGIN,this.strictEntities=this.opt.strictEntities,this.ENTITIES=this.strictEntities?Object.create(this.XML_ENTITIES):Object.create(this.ENTITIES),this.attribList=[],this.opt.xmlns&&(this.ns=Object.create(this.rootNS)),this.trackPosition=this.opt.position!==!1,this.trackPosition&&(this.position=this.line=this.column=0),this.emit(\"onready\")}resume(){return this.error=null,this}close(){return this.write(null)}flush(){this.flushBuffers()}};var V=i=>{let e={name:i,isHandled:!0};switch(i){case\"dc:date\":case\"dc:created\":case\"dc:dateSubmitted\":case\"dc:copyrighted\":case\"dc:dateAccepted\":e.isDate=!0;break;case\"dc:valid\":e.isDate=!0,e.isArray=!0;break;case\"dc:contributor\":case\"dc:creator\":e.isArray=!0;break;default:e.isHandled=!1;break}return e};var ve=i=>{let e={name:i,isHandled:!0,isArray:!1,isInt:!1,isFloat:!1,isDate:!1};switch(i){case\"slash:comments\":e.isInt=!0;break;default:e.isHandled=!1;break}return e};var De=i=>{let e={name:i,isHandled:!0,isArray:!1,isInt:!1,isFloat:!1,isDate:!1};switch(i){case\"textinput\":e.name=\"textInput\";break;case\"item\":e.isArray=!0;break;case\"rdf:about\":e.name=\"about\";break;case\"rdf:resource\":e.name=\"resource\";break;default:let s=[V,ve];for(let t=0;t<s.length;t++){let r=s[t](i);if(r.isHandled){r.isArray&&(e.isArray=!0),r.isDate&&(e.isDate=!0),r.isInt&&(e.isInt=!0),r.isFloat&&(e.isFloat=!0),e.name=r.name;break}}break}return e};var Fe=i=>{let e={name:i,isHandled:!0,isArray:!1,isInt:!1,isFloat:!1,isDate:!1};switch(i){case\"media:comment\":case\"media:response\":case\"media:scene\":case\"media:group\":case\"media:content\":e.isArray=!0;break;case\"price\":e.isFloat=!0;break;default:e.isHandled=!1;break}return e};var Re=i=>{let e={name:i,isHandled:!0,isArray:!1,isInt:!1,isFloat:!1,isDate:!1};switch(i){case\"textinput\":e.name=\"textInput\";break;case\"skiphours\":e.name=\"skipHours\";break;case\"skipdays\":e.name=\"skipDays\";break;case\"pubdate\":e.name=\"pubDate\",e.isDate=!0;break;case\"managingeditor\":e.name=\"managingEditor\";break;case\"webmaster\":e.name=\"webMaster\";break;case\"lastbuilddate\":e.name=\"lastBuildDate\",e.isDate=!0;break;case\"item\":e.name=\"items\",e.isArray=!0;break;case\"enclosure\":e.isArray=!0;break;case\"category\":e.name=\"categories\",e.isArray=!0;break;case\"ispermalink\":e.name=\"isPermaLink\";break;case\"ttl\":case\"length\":case\"width\":case\"height\":e.isInt=!0;break;case\"hour\":e.isArray=!0,e.isInt=!0;break;case\"day\":e.isArray=!0;break;default:let s=[V,Fe];for(let t=0;t<s.length;t++){let r=s[t](i);if(r.isHandled){r.isArray&&(e.isArray=!0),r.isDate&&(e.isDate=!0),r.isInt&&(e.isInt=!0),r.isFloat&&(e.isFloat=!0),e.name=r.name;break}}break}return e};var Pe=i=>{let e={name:i,isHandled:!0,isArray:!1,isInt:!1,isFloat:!1,isDate:!1};switch(i){case\"category\":e.name=\"categories\",e.isArray=!0;break;case\"contributor\":e.name=\"contributors\",e.isArray=!0;break;case\"link\":e.name=\"links\",e.isArray=!0;break;case\"entry\":e.name=\"entries\",e.isArray=!0;break;case\"updated\":case\"published\":e.isDate=!0;break;default:let s=V(i);s.isHandled&&(s.isArray&&(e.isArray=!0),s.isDate&&(e.isDate=!0),s.isInt&&(e.isInt=!0),s.isFloat&&(e.isFloat=!0),e.name=s.name);break}return e},Ce=i=>{switch(i){case\"title\":case\"summary\":case\"content\":case\"rights\":return!0}return!1};var oe=i=>{let e;try{e=new URL(i)}catch{return!1}return[\"https:\",\"http:\",\"ftp://\",\"mailto:\",\"news://\"].includes(e.protocol)},O=(i,e,s)=>{i.forEach(t=>{let r=e[t];r&&(s[t]=Array.isArray(r)?r.map(a=>a?.value||a):r?.value||r)})};var le=[\"slash:department\",\"slash:section\",\"slash:comments\",\"slash:hit_parade\"];var ue=(i,e)=>{[\"media:rating\",\"media:keywords\",\"media:category\"].forEach(p=>{let v=i[p];v&&(e[p]=v.value)});let s=i[\"media:group\"];s&&s.length>0&&(e[\"media:group\"]=s.map(p=>({[\"media:content\"]:p[\"media:content\"]?.map(v=>({bitrate:v.bitrate,channels:v.channels,duration:v.duration,expression:v.expression,fileSize:v.fileSize,height:v.height,width:v.width,isDefault:v.isDefault,lang:v.lang,medium:v.medium,samplingrate:v.samplingrate,type:v.type,url:v.url}))})));let t=i[\"media:credit\"];t&&(e[\"media:credit\"]={value:t.value,role:t.role,scheme:t.scheme});let r=i[\"media:title\"];r&&(e[\"media:title\"]={value:r.value,type:r.type});let a=i[\"media:description\"];a&&(e[\"media:description\"]={value:a.value,type:a.type});let u=i[\"media:content\"];u&&u.length>0&&(e[\"media:content\"]=u?.map(p=>({bitrate:p.bitrate,channels:p.channels,duration:p.duration,expression:p.expression,fileSize:p.fileSize,height:p.height,width:p.width,isDefault:p.isDefault,lang:p.lang,medium:p.medium,samplingrate:p.samplingrate,type:p.type,url:p.url})));let m=i[\"media:thumbnails\"];m&&(e[\"media:thumbnails\"]={url:m.url,height:m.height,width:m.width,time:m.time});let f=i[\"media:hash\"];f&&(e[\"media:hash\"]={value:f.value,algo:f.algo});let y=i[\"media:player\"];y&&(e[\"media:player\"]={url:y.url,height:y.height,width:y.width});let R=i[\"media:copyright\"];R&&(e[\"media:copyright\"]={url:R.url,value:R.value});let S=i[\"media:text\"];S&&(e[\"media:text\"]={value:S.value,type:S.value,lang:S.value,start:S.start,end:S.end});let A=i[\"media:restriction\"];A&&(e[\"media:restriction\"]={value:A.value,relationship:A.relationship,type:A.type});let n=i[\"media:comments\"];n&&(e[\"media:comments\"]={\"media:comment\":n[\"media:comment\"]?.map(p=>p.value)});let c=i[\"media:embed\"];if(c){e[\"media:embed\"]={url:c.url,height:c.height,width:c.width};let p=c[\"media:param\"];p&&(e[\"media:embed\"][\"media:param\"]={value:p?.value,name:p?.name})}let h=i[\"media:responses\"];h&&(e[\"media:responses\"]={\"media:response\":h[\"media:response\"]?.map(p=>p.value)});let g=i[\"media:backLinks\"];g&&(e[\"media:backLinks\"]={\"media:backLink\":g[\"media:backLink\"]?.map(p=>p.value)});let T=i[\"media:status\"];T&&(e[\"media:status\"]={state:T.state,reason:T.reason});let D=i[\"media:price\"];D&&(e[\"media:price\"]={type:D.type,price:D.price,info:D.info,currency:D.currency});let o=i[\"media:license\"];o&&(e[\"media:license\"]={value:o.value,type:o.type,href:o.href});let C=i[\"media:subTitle\"];C&&(e[\"media:subTitle\"]={type:C.type,lang:C.lang,href:C.href});let I=i[\"media:peerLink\"];I&&(e[\"media:peerLink\"]={type:I.type,href:I.href});let w=i[\"media:rights\"];w&&(e[\"media:rights\"]={status:w.status});let P=i[\"media:scenes\"];P&&(e[\"media:scenes\"]={\"media:scene\":P[\"media:scene\"]?.map(p=>({sceneTitle:p.sceneTitle,sceneDescription:p.sceneDescription,sceneStartTime:p.sceneStartTime,sceneEndTime:p.sceneEndTime}))})};var M=[\"dc:contributor\",\"dc:coverage\",\"dc:creator\",\"dc:date\",\"dc:dateRaw\",\"dc:description\",\"dc:format\",\"dc:language\",\"dc:identifier\",\"dc:publisher\",\"dc:relation\",\"dc:rights\",\"dc:source\",\"dc:subject\",\"dc:title\",\"dc:type\",\"dc:abstract\",\"dc:accessRights\",\"dc:accrualMethod\",\"dc:accrualPeriodicity\",\"dc:accrualPolicy\",\"dc:alternative\",\"dc:audience\",\"dc:available\",\"dc:bibliographicCitation\",\"dc:conformsTo\",\"dc:created\",\"dc:createdRaw\",\"dc:dateAccepted\",\"dc:dateAcceptedRaw\",\"dc:copyrighted\",\"dc:CopyrightedRaw\",\"dc:dateSubmitted\",\"dc:dateSubmittedRaw\",\"dc:educationLevel\",\"dc:extent\",\"dc:hasFormat\",\"dc:hasPart\",\"dc:hasVersion\",\"dc:instructionalMethod\",\"dc:isFormatOf\",\"dc:isPartOf\",\"dc:isReferencedBy\",\"dc:isReplacedBy\",\"dc:isRequiredBy\",\"dc:issued\",\"dc:isVersionOf\",\"dc:license\",\"dc:mediator\",\"dc:medium\",\"dc:modified\",\"dc:modifiedRaw\",\"dc:provenance\",\"dc:references\",\"dc:replaces\",\"dc:requires\",\"dc:rightsHolder\",\"dc:spatial\",\"dc:tableOfContents\",\"dc:tempora\",\"dc:valid\",\"dc:Box\",\"dc:DCMIType\",\"dc:DDC\",\"dc:IMT\",\"dc:ISO3166\",\"dc:ISO639-2\",\"dc:LLC\",\"dc:LCSH\",\"dc:MESH\",\"dc:NLM\",\"dc:Period\",\"dc:Point\",\"dc:RFC1766\",\"dc:RFC3066\",\"dc:TGN\",\"dc:UDC\",\"dc:URI\",\"dc:W3CDTF\"];var Ae=(i,e)=>{if(!e)return null;switch(i){case\"ATOM\":return Rt(e);case\"RSS 1.0\":return Dt(e);case\"RSS 2.0\":return Ft(e);default:return null}},Dt=i=>{let{title:e,description:s,link:t,...r}=i.channel,a=r;O(M,i.channel,a),a.type=\"RSS 1.0\";let u=a[\"dc:title\"]||e?.value;u&&(a.title={value:u,type:void 0}),a.links=[],a[\"dc:URI\"]&&(a.links.push(a[\"dc:URI\"]),a.id=a[\"dc:URI\"]),t?.value&&(a.links.push(t.value),a.id=t.value),a.description=a[\"dc:description\"]||s?.value,a.copyright=a[\"dc:rights\"],a.language=a[\"dc:language\"],a.created=a[\"dc:created\"]||a[\"dc:dateSubmitted\"]||a[\"dc:date\"],a.createdRaw=a[\"dc:createdRaw\"]||a[\"dc:dateSubmittedRaw\"]||a[\"dc:dateRaw\"],a.published=a[\"dc:dateSubmitted\"]||a[\"dc:date\"],a.publishedRaw=a[\"dc:dateSubmittedRaw\"]||a[\"dc:dateRaw\"],a.updateDate=a[\"dc:date\"],a.updateDateRaw=a[\"dc:dateRaw\"];let m=a[\"dc:creator\"];return m&&m.length>0&&(a.author=B(void 0,m[0])),i.image&&(a.image={link:i.image.link?.value,title:i.image.title?.value,url:i.image.url?.value}),a.entries=i.item?.map(f=>{let{link:y,title:R,description:S,...A}=f,n=A;O(M,n,n),O(le,n,n),n.id=n[\"dc:URI\"]||y?.value,n.published=n[\"dc:dateSubmitted\"]||n[\"dc:date\"],n.publishedRaw=n[\"dc:dateSubmittedRaw\"]||n[\"dc:dateRaw\"],n.updated=n[\"dc:date\"]||n[\"dc:dateSubmitted\"],n.updatedRaw=n[\"dc:dateRaw\"]||n[\"dc:dateSubmittedRaw\"];let c=n[\"dc:creator\"];c&&c.length>0&&(n.author=B(void 0,c[0]));let h=n[\"dc:title\"]||R?.value;h&&(n.title={value:h,type:void 0});let g=n[\"dc:description\"]||S?.value;return g&&(n.description={value:g,type:void 0}),n.links=[],n[\"dc:URI\"]&&n.links.push({href:n[\"dc:URI\"]}),y?.value&&n.links.push({href:y.value}),n.contributors=n[\"dc:contributor\"]?.map(T=>({name:T})),n}),a},Ft=i=>{let{items:e,title:s,description:t,generator:r,pubDate:a,pubDateRaw:u,lastBuildDate:m,lastBuildDateRaw:f,docs:y,webMaster:R,language:S,copyright:A,ttl:n,skipDays:c,skipHours:h,link:g,image:T,...D}=i.channel,o=D;o.type=\"RSS 2.0\",O(M,o,o),o.id=g?.value||o[\"dc:URI\"],o.title={value:o[\"dc:title\"]||s?.value,type:void 0};let C=o[\"dc:dateSubmitted\"]||o[\"dc:date\"]||a?.value,I=o[\"dc:dateSubmittedRaw\"]||o[\"dc:dateRaw\"]||u?.value;o.description=t?.value||o[\"dc:description\"],o.generator=r?.value,o.published=C,o.publishedRaw=I,o.created=o[\"dc:created\"]||m?.value||C,o.createdRaw=o[\"dc:createdRaw\"]||f?.value||I,o.updateDate=m?.value||o[\"dc:date\"],o.updateDateRaw=f?.value||o[\"dc:dateRaw\"],o.docs=y?.value,o.language=S?.value,o.copyright=A?.value||o[\"dc:rights\"],o.ttl=n?.value,o.skipDays=c?.day?.map(P=>P.value),o.skipHours=h?.hour?.map(P=>P.value),o.links=[g?.value,o[\"dc:URI\"]].filter(P=>!!P);let w=o[\"dc:creator\"];return R?.value?o.author=B(R.value):w&&w?.length>0&&(o.author=B(void 0,w[0])),T&&(o.image={link:T.link?.value,title:T.title?.value,url:T.url?.value,height:T?.height?.value,width:T?.width?.value}),o.entries=e.map(P=>{let{author:p,title:v,description:L,guid:U,link:H,pubDate:G,pubDateRaw:Q,enclosure:F,comments:E,categories:xe,...Ne}=P,b=Ne;O(M,b,b),ue(b,b),b.id=U?.value||b[\"dc:URI\"];let de=b[\"dc:title\"]||v?.value;de&&(b.title={value:de,type:void 0});let he=b[\"dc:description\"]||L?.value;he&&(b.description={value:he,type:void 0}),b.comments=E?.value,b.published=b[\"dc:dateSubmitted\"]||G?.value,b.publishedRaw=b[\"dc:dateSubmittedRaw\"]||Q?.value,b.updated=G?.value,b.updatedRaw=P.pubDateRaw?.value,P[\"content:encoded\"]?.value&&(b.content={value:P[\"content:encoded\"]?.value});let $=b[\"dc:creator\"];return p?.value?b.author=B(void 0,p.value):$&&$.length>0&&(b.author=B(void 0,$[0])),b.links=[],P[\"feedburner:origlink\"]?.value&&b.links.push({href:P[\"feedburner:origlink\"]?.value}),H?.value&&b.links.push({href:H?.value}),F&&(b.attachments=F.map(N=>({url:N.url,mimeType:N.type,sizeInBytes:N.length}))),b.categories=xe?.map(N=>({term:N.value,label:N.value})),b.contributors=o[\"dc:contributor\"]?.map(N=>({name:N})),b}),o},Rt=i=>{let{id:e,generator:s,title:t,subtitle:r,updated:a,updatedRaw:u,icon:m,links:f,logo:y,categories:R,author:S,entries:A,...n}=i,c=n;return c.type=\"ATOM\",c.id=e?.value,c.generator=s?.value,c.title={value:t?.value,type:t?.type},c.description=r?.value,c.updateDate=a?.value,c.updateDateRaw=u?.value,c.published=a?.value,c.publishedRaw=u?.value,c.created=a?.value,c.createdRaw=u?.value,c.icon=m?.value,c.links=f?.map(h=>h.href)??[],y&&(c.image={link:y.value,url:y.value}),R&&(c.categories=R?.map(h=>({term:h.term,label:h.label}))),S&&(c.author={name:S.name?.value,email:S.email?.value,uri:S.uri?.value}),c.entries=A?.map(h=>{let{links:g,href:T,id:D,title:o,summary:C,published:I,publishedRaw:w,updated:P,updatedRaw:p,source:v,author:L,content:U,contributors:H,categories:G,...Q}=h,F=Q;if(F.id=h[\"feedburner:origlink\"]?.value||D?.value,F.published=I?.value,F.publishedRaw=w?.value,F.updated=P?.value,F.updatedRaw=p?.value,o&&(F.title={value:o.value,type:o.type}),C&&(F.description={value:C.value,type:C.type}),F.links=[],h[\"feedburner:origlink\"]?.value&&F.links.push({href:h[\"feedburner:origlink\"]?.value}),g&&g?.length>0){for(let E of g)F.links.push({href:E.href,rel:E.rel,type:E.type});F.attachments=g.filter(E=>E.rel===\"enclosure\").map(E=>({url:E.href,mimeType:E.type,sizeInBytes:E.length}))}return T&&F.links.push({href:T}),D&&oe(D.value)&&F.links.push({href:D.value}),v&&(F.source={id:v.id?.value,title:v.title?.value,updated:v.updated?.value,updatedRaw:v.updatedRaw?.value}),L&&(F.author={email:L.email?.value,name:L.name.value,uri:L.uri?.value}),U&&(F.content={value:U?.value,type:U?.type}),H&&(F.contributors=H?.map(E=>({name:E.name?.value,email:E.email?.value,uri:E.uri?.value}))),G&&(F.categories=G?.map(E=>({term:E.term,label:E.label}))),F}),c},B=(i,e,s)=>({email:i,name:e,uri:s});async function ce(i){if(!i)throw new Error(\"Input was undefined, null or empty\");let{data:e,feedType:s}=await Et(i);return Ae(s,e)}var Et=i=>new Promise((e,s)=>{if(!i){s(new Error(\"Input was undefined, null or empty\"));return}i=i.replaceAll(/<description>(?!(\\s*<!\\[CDATA))/g,\"<description><![CDATA[\").replaceAll(/(?<!\\]\\]>\\s*)<\\/description>/g,\"]]></description>\");let t,r,a,u,m,f=[{}],y=new x(!1,{trim:!0,lowercase:!0}),R,S;y.oncdata=y.ontext=n=>{a?r+=n:f[f.length-1].value=n.trim()};let A=n=>{m=n;let c=Object.keys(n.attributes);if(a){let g=c.map(T=>`${T}=\"${n.attributes[T]}\"`).join(\" \").trim();g.length?r+=`<${n.name} ${g}${n.isSelfClosing?\" /\":\"\"}>`:r+=`<${n.name}${n.isSelfClosing?\" /\":\"\"}>`,t++;return}S(n.name)&&(a=!0,r=\"\",t=0);let h=c.reduce((g,T)=>{let D=n.attributes[T];if(D!=null){let{name:o,isInt:C,isFloat:I,isDate:w}=R(T);C?g[o]=parseInt(D):I?g[o]=parseFloat(D):w?(g[o+\"Raw\"]=D,g[o]=new Date(D)):g[o]=D}return g},{});f.push(h)};y.onclosetag=n=>{let c=m;if(m=void 0,a&&t){c?.isSelfClosing||(r+=`</${n}>`),t--;return}let h=f.pop();if(f.length===0){Object.assign(y,{onopentag:void 0,onclosetag:void 0,ontext:void 0,oncdata:void 0}),e({feedType:u,data:h});return}let g=f[f.length-1],{name:T,isArray:D,isInt:o,isFloat:C,isDate:I}=R(n);if(a){h.value=r,g[T]=h,r=\"\",a=!1,t=0;return}if(h.value!==void 0&&h.value!==null&&(o?h.value=parseInt(h.value):C?h.value=parseFloat(h.value):I&&(g[T+\"Raw\"]={value:h.value},h.value=new Date(h.value))),D)g[T]?g[T].push(h):g[T]=[h];else{let w=typeof h==\"object\"&&Object.keys(h).length===0&&!(h instanceof Date);try{w||(g[T]=h)}catch{console.warn(`Failed to add property ${T} on node`,g)}}},y.onopentag=n=>{switch(n.name){case\"feed\":u=\"ATOM\",S=Ce,R=Pe;break;case\"rss\":u=\"RSS 2.0\",S=()=>!1,R=Re;break;case\"rdf:rdf\":u=\"RSS 1.0\",S=()=>!1,R=De;break;default:s(new Error(`Type ${n.name} is not supported`));break}y.onopentag=A},y.write(i).close().flush()});var we=\"RSS\";async function Ie(){let i=await Se({rss:{urls:[],lastUpdated:Date.now()}});await k.flashNotification(\"syncing your RSS feeds...\");let e=i.rss,s=e.urls.flatMap(async r=>{try{let u=await(await fetch(r)).text(),m=await ce(u);return`# [${m.title.value||m.id}](${m.id})\n`+m.entries.filter(f=>(f.updated||new Date)>=new Date(e.lastUpdated)).map(f=>`${f.id}\n`).join(`\n`)}catch(a){throw new Error(`unable to fetch feed at ${r}: ${a}`)}}),t=await Promise.all(s);try{await k.navigate(we,0),await _.writePage(we,t.join(`\n`)),await be({rss:{lastUpdated:Date.now(),urls:e.urls}})}catch(r){throw new Error(r)}await k.flashNotification(\"RSS feeds updated!\")}var Pt=Ie;return Me(Ct);})();\n return mod;})()"
    }
  },
  "assets": {}
}